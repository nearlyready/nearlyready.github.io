(function(e){function t(t){for(var r,o,s=t[0],l=t[1],c=t[2],p=0,u=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(u.length)u.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],r=!0,s=1;s<i.length;s++){var l=i[s];0!==n[l]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=i[0]))}return e}var r={},n={app:0},a=[];function o(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=r,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(i,r,function(t){return e[t]}.bind(null,r));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var r=i("85ec"),n=i.n(r);n.a},1:function(e,t){},2:function(e,t){},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"rotator"}},[i("div",{ref:"parent",staticClass:"half-holder"},[e.isReady?i("Particles",{attrs:{properties:e.getParticlesProps(),parameters:e.getParticlesParams()}}):e._e()],1),e.isReady?i("div",{staticClass:"half-holder"},e._l(e.getSliderParams(),(function(t){return i("Slider",{key:t.key,attrs:{parameters:t,properties:e.getSliderProps(t)}})})),1):e._e()])])},a=[],o=(i("4160"),i("159b"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("canvas",{attrs:{id:e.properties.id,"data-paper-hidpi":"off"}})}),s=[],l={props:["properties","parameters"],mounted:function(){var e=this.parameters,t=document.getElementById(this.properties.id);t.width=this.properties.width,t.height=this.properties.height,paper.setup(t);for(var i=project.activeLayer,r=function(){return e["transmission_distance"].value*t.width/200},n=function(){return e["transmission_probability"].value},a=0,o=t.width,s=o-a,l=0,c=t.height,d=c-l,p=n(),u=100,h=[],f=function(e,t,i){var r=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return!(r>i||n>i)&&(2^r)+(2^n)<(2^i)},v=function(e,t,i){var r=[e,t],n=[],a=[];i&&(r.forEach((function(e){e.isColliding=!0,e.isInfected?n.push(e):a.push(e)})),1===n.length&&(a[0].isInfected=Math.random()<p));var o=n.length>0;r.forEach((function(e){o&&(e.isNearInfected=!0),e.circle.style=Object.assign(m(e.isColliding,e.isNearInfected),e.circle.style),e.circle.style=Object.assign(g(e.isInfected),e.circle.style)}))},g=function(e){return{fillColor:e?"pink":"white"}},m=function(e,t){var i=r();return{strokeColor:e?t?"red":"black":"grey",strokeWidth:.4*i}},y=1,w=function(t){var i=e["average_speed"].value,r=e["speed_range"].value;if(u>1){var n=i*(1-r),a=2*r*i/(u-1);i=n+t*a}return i},b=r(),P=b,x=0;x<u;x++){var _={index:x,speed:w(x),isColliding:!1,isInfected:x<y,isNearInfected:!1};h.push(_)}var k=function(){b=r(),h.forEach((function(e){var t=0,r=0;e.circle?(t=e.circle.position.x,r=e.circle.position.y,e.circle.remove()):(t=a+Math.random()*s,r=l+Math.random()*d);var n=new Path.Circle(t,r,b);i.addChild(n),e.circle=n,e.circle.style=g(e.isInfected)}))};k(),view.onFrame=function(e){p=n(),h.forEach((function(t,i){t.speed=w(i),b=r(),P!=b&&(k(),P=b);t.isColliding=!1,t.isNearInfected=!1;for(var n=0;n<i;n++){var s=t,d=h[n],p=f(s.circle.position,d.circle.position,2*b);v(s,d,p)}var u=e.delta,g=new Point(0,1*u*t.speed*100);g.angle=360*Math.random();var m=t.circle.position,y=m.x+g.x;y=y<a?a+(a-y):y>o?o-(y-o):y;var x=m.y+g.y;x=x<l?l+(l-x):x>c?c-(x-c):x,t.circle.position=[y,x]}))},view.draw()}},c=l,d=i("2877"),p=Object(d["a"])(c,o,s,!1,null,null,null),u=p.exports,h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("canvas",{attrs:{id:e.properties.id,"data-paper-hidpi":"off"}})},f=[],v={props:["properties","parameters"],mounted:function(){console.log(JSON.stringify(this.parameters));var e=this.parameters,t=document.getElementById(this.properties.id);t.width=this.properties.width,t.height=this.properties.height,paper.setup(t);var i=this.properties.weights,r=t.height/(i.paddingTop+i.paddingBottom+i.paddingMiddle+i.titleFontSize+i.slotWidth),n=r*i.paddingTop,a=(i.paddingBottom,r*i.titleFontSize),o=r*i.paddingMiddle,s=r*i.slotWidth,l=n+a,c=l+o,d=0*s,p=new PointText(new Point(d,l));p.justification="left",p.fillColor="grey",p.fontSize=a,p.fontWeight="bold";var u=function(t){p.content=e.title+": "+Math.round(100*e.value)/100};u();var h=c+s/2,f=s/2,v=t.width-s/2,g="lightgray",m=new Path.Line(new Point(f,h),new Point(v,h));m.style={strokeColor:g,strokeWidth:s,strokeCap:"round"},m.style.strokeColor=g,m.style.strokeWidth=s;var y=f,w=v,b=(w-y)/(e.max-e.min),P=function(t){var i=(e.max-e.min)*(t-y)/(w-y);return i},x=function(t){var i=y+b*(t-e.min);return i},_=.4*s,k=_/10,S="white",O="grey",j=x(e.value),C=new Path.Circle(j,h,_);C.style={strokeColor:O,strokeWidth:k,fillColor:S};var M=null;C.onMouseDown=function(e){M=e.point.x},C.onMouseDrag=function(t){var i=t.point.x,r=C.position.x+i-M;C.position.x=r<y?y:r>w?w:r,M=i,e.value=P(C.position.x),u()}}},g=v,m=Object(d["a"])(g,h,f,!1,null,null,null),y=m.exports,w=i("2222"),b=i.n(w),P={name:"App",components:{Particles:u,Slider:y},data:function(){return{isReady:!1,params:this.initializeParams()}},methods:{initializeParams:function(){var e=[{key:"average_speed",title:"Average Speed",value:2,min:0,max:10},{key:"speed_range",title:"Speed Range",value:.5,min:0,max:1},{key:"transmission_distance",title:"Transmission Distance",value:10,min:0,max:20},{key:"transmission_probability",title:"Transmission Probability",value:.1,min:0,max:1}];return e.forEach((function(e){e.resetValue=e.value})),e},getParticlesProps:function(){return{id:"particles",width:.8*this.divWidth,height:.8*this.divHeight,isReady:this.isReady}},getSliderProps:function(e){var t=Object.assign(e,{id:e.key+"-slider",width:.8*this.divWidth,height:this.divHeight/5,weights:{paddingTop:2,paddingBottom:0,titleFontSize:4,paddingMiddle:2,slotWidth:10}});return t},getSliderParams:function(){return this.params},getParticlesParams:function(){var e={};return this.params.forEach((function(t){e[t.key]=t})),console.log(e),e}},mounted:function(){this.canvasDimension=.9*Math.min(window.innerWidth,window.innerHeight),this.parentDiv=this.$refs["parent"],b.a.install(window),console.log(window.paper),this.isReady=!0,this.field="speed",this.divWidth=this.$refs.parent.offsetWidth,this.divHeight=this.$refs.parent.offsetHeight}},x=P,_=(i("034f"),Object(d["a"])(x,n,a,!1,null,null,null)),k=_.exports,S=i("2f62");r["a"].use(S["a"]);var O=new S["a"].Store({state:{},mutations:{},actions:{},modules:{}});r["a"].config.productionTip=!1,new r["a"]({store:O,render:function(e){return e(k)}}).$mount("#app")},"85ec":function(e,t,i){}});
//# sourceMappingURL=app.17725d20.js.map