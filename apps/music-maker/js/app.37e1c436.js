(function(e){function t(t){for(var n,r,c=t[0],o=t[1],l=t[2],d=0,f=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],n=!0,c=1;c<s.length;c++){var o=s[c];0!==i[o]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=s[0]))}return e}var n={},i={app:0},a=[];function r(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=n,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0039":function(e,t,s){},"034f":function(e,t,s){"use strict";var n=s("85ec"),i=s.n(n);i.a},2041:function(e,t,s){},"2b84":function(e,t,s){},"3bbd":function(e,t,s){"use strict";var n=s("2b84"),i=s.n(n);i.a},4051:function(e,t,s){"use strict";var n=s("2041"),i=s.n(n);i.a},"464a":function(e,t,s){"use strict";var n=s("9ca8"),i=s.n(n);i.a},"4b06":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t),s.d(t,"bus",(function(){return de}));s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"fullscreen-holder"},[s("Art")],1),s("div",{staticClass:"fullscreen-holder"},[s("Music")],1)])},a=[],r=[{objectKey:"Synth",params:[{key:"oscillator",params:[{isDiscrete:!0,key:"type",values:["sine","triangle","square"],defaultIndex:1}]},{key:"envelope",params:[{isDiscrete:!1,key:"attack",min:0,max:.025,default:.005},{isDiscrete:!1,key:"decay",min:0,max:1,default:.1},{isDiscrete:!1,key:"sustain",min:0,max:1,default:.3},{isDiscrete:!1,key:"release",min:0,max:10,default:1}]}]},{objectKey:"MonoSynth",settings:{frequency:"C4",detune:-1200,oscillator:{type:"triangle"},filter:{Q:6,type:"lowpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:.9,release:1},filterEnvelope:{attack:.06,decay:.2,sustain:.5,release:2,baseFrequency:200,octaves:5,exponent:2}},params:[{isDiscrete:!0,key:"frequency",values:["C4","D4","C5"],defaultIndex:0},{isDiscrete:!1,key:"detune",min:-1600,max:400,default:-1200},{key:"oscillator",params:[{isDiscrete:!0,key:"type",values:["sine","triangle","square"],defaultIndex:1}]},{key:"filter",params:[{isDiscrete:!1,key:"Q",min:0,max:.025,default:.005},{isDiscrete:!0,key:"rolloff",values:[-12,-24,-48,-96],defaultIndex:1}]},{key:"envelope",params:[{isDiscrete:!1,key:"attack",min:0,max:.025,default:.005},{isDiscrete:!1,key:"decay",min:0,max:1,default:.2},{isDiscrete:!1,key:"sustain",min:0,max:1,default:.9},{isDiscrete:!1,key:"release",min:0,max:10,default:1}]},{key:"filterEnvelope",params:[{isDiscrete:!1,key:"attack",min:0,max:.1,default:.06},{isDiscrete:!1,key:"decay",min:0,max:1,default:.1},{isDiscrete:!1,key:"sustain",min:0,max:1,default:.5},{isDiscrete:!1,key:"release",min:0,max:10,default:2},{isDiscrete:!1,key:"baseFrequency",min:0,max:2e3,default:200},{isDiscrete:!1,key:"octaves",min:0,max:10,default:5},{isDiscrete:!1,key:"exponent",min:0,max:5,default:2}]}]}],c=[{objectKey:"AutoFilter",params:[{isDiscrete:!1,key:"frequency",min:0,max:10,default:1},{isDiscrete:!1,key:"baseFrequency",min:0,max:2e3,default:200},{isDiscrete:!1,key:"octaves",min:0,max:10,default:2.6}]},{objectKey:"Chorus",params:[{isDiscrete:!1,key:"frequency",min:0,max:10,default:1.5},{isDiscrete:!1,key:"delayTime",min:0,max:10,default:3.5},{isDiscrete:!1,key:"depth",min:0,max:2,default:.7}]},{objectKey:"Distortion",params:[{isDiscrete:!1,key:"distortion",min:0,max:1,default:.4},{isDiscrete:!0,key:"oversample",values:["none","2x","4x"],defaultIndex:0}]},{objectKey:"FeedbackDelay",params:[{isDiscrete:!1,key:"delayTime",min:0,max:1,default:.25},{isDiscrete:!1,key:"maxDelay",min:0,max:10,default:.1}]},{objectKey:"Freeverb",params:[{isDiscrete:!1,key:"roomSize",min:0,max:1,default:.5},{isDiscrete:!1,key:"dampening",min:0,max:5e3,default:3e3}]},{objectKey:"Phaser",params:[{isDiscrete:!1,key:"frequency",min:0,max:10,default:.5},{isDiscrete:!1,key:"octaves",min:0,max:10,default:3},{isDiscrete:!1,key:"stages",min:0,max:100,default:10},{isDiscrete:!1,key:"Q",min:0,max:100,default:10},{isDiscrete:!1,key:"baseFrequency",min:0,max:2e3,default:350}]},{objectKey:"AutoWah",params:[{isDiscrete:!1,key:"baseFrequency",min:0,max:500,default:100},{isDiscrete:!1,key:"octaves",min:0,max:10,default:6},{isDiscrete:!1,key:"sensitivity",min:0,max:10,default:0},{isDiscrete:!1,key:"Q",min:0,max:10,default:2},{isDiscrete:!1,key:"gain",min:0,max:10,default:2}]},{objectKey:"Vibrato",params:[{isDiscrete:!1,key:"maxDelay",min:0,max:.025,default:.005},{isDiscrete:!1,key:"frequency",min:0,max:10,default:5},{isDiscrete:!1,key:"depth",min:0,max:1,default:.1},{isDiscrete:!0,key:"type",values:["sine","triangle","square"],defaultIndex:0}]}],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"mh",staticClass:"m-holder"},[s("div",{staticClass:"button-holder",on:{click:function(t){return e.toggleOverlayVisible()}}},[e.overlayIsVisible?e._e():s("span",{staticClass:"icon material-icons not-selectable"},[e._v("settings")]),e.overlayIsVisible?s("span",{staticClass:"icon material-icons not-selectable"},[e._v("close")]):e._e()]),s("div",{staticClass:"overlay",class:{hidden:!e.overlayIsVisible}},[e._m(0),s("div",{staticClass:"content-scroller"},[s("h3",[e._v("Synth")]),s("div",{staticClass:"synth-row"},e._l(e.synths,(function(t,n){return s("div",{key:n,staticClass:"synth-cell",class:{"synth-selected":t.isSelected},on:{click:function(t){return e.loadSynth(n)}}},[s("span",{staticClass:"synth-name"},[e._v(e._s(t.name))])])})),0),e.isReady?[e._l(e.synths,(function(t,n){return s("div",{key:"S-"+n},[n===e.synthIndex?s("Synth",{attrs:{properties:t}}):e._e()],1)})),s("h3",[e._v("Effects")]),e._l(e.effects,(function(t,n){return s("div",{key:"E-"+n},[s("Effect",{attrs:{properties:t,source:e.getEffectSource(n)}})],1)}))]:e._e()],2)]),s("h1",[e._v("Music Maker")]),s("div",{class:{"grid-row":e.isLandscape,"grid-column":!e.isLandscape}},[s("div",{class:{"grid-column":e.isLandscape,"grid-row":!e.isLandscape}},[s("div",{staticClass:"grid-header cell"}),e._l(e.patterns,(function(t,n){return s("div",{key:n,staticClass:"grid-header cell"},[e._v(e._s(t.name))])}))],2),e._l(e.roots,(function(t,n){return s("div",{key:n,class:{"grid-column":e.isLandscape,"grid-row":!e.isLandscape}},[s("div",{staticClass:"grid-header cell"},[e._v(e._s(t))]),e._l(e.patterns,(function(t,i){return s("div",{key:i,staticClass:"grid-cell cell glowing-shadow not-selectable",on:{click:function(t){return e.play(t,n,i)}}})}))],2)}))],2)])},l=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content-title"},[s("h2",[e._v("SETTINGS")])])}],u=(s("4160"),s("b0c0"),s("159b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"effect-holder"},[s("div",{staticClass:"top-section"},[s("div",{staticClass:"effect-name"},[e._v(e._s(e.properties.name))]),s("div",{staticClass:"on-off",on:{click:function(t){return e.toggleConnected()}}},[e.isConnected?s("div",{staticClass:"on"},[e._v("ON")]):e._e(),e.isConnected?e._e():s("div",{staticClass:"off"},[e._v("OFF")])])]),s("ParamGroup",{attrs:{params:e.properties.params,inkeys:e.inkeys,source:e.source}})],1)}),d=[],f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pg-holder"},e._l(e.params,(function(t,n){return s("div",{key:t.key+n},["params"in t?[s("div",{staticClass:"group-title"},[e._v(e._s(t.key))]),s("ParamGroup",{attrs:{params:t.params,inkeys:e.getInkeys(t.key),source:e.source}})]:[t.isDiscrete?e._e():s("Slider",{attrs:{uniqueRef:e.getUniqueId(),param:t,inkeys:e.inkeys,source:e.source}}),t.isDiscrete?s("DiscreteSwitch",{attrs:{param:t,inkeys:e.inkeys,source:e.source}}):e._e()]],2)})),0)},h=[],m=(s("fb6a"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slider-outer"},[s("div",{staticClass:"slider-text"},[e._v(e._s(e.param.key)+":"+e._s(e.tidyValue(e.current)))]),s("div",{staticClass:"slider-holder"},[s("svg",{ref:e.uniqueRef,staticClass:"slider-svg",attrs:{width:"100%",height:"100%"}})])])}),p=[],y=(s("a9e3"),s("c35a"),s("7407")),v=s.n(y),k=s("fb3a"),g=s.n(k),b={name:"Slider",props:["uniqueRef","param","source","inkeys"],data:function(){return{current:this.param.default,delta:.1*(this.param.max-this.param.min),rangeMin:null,rangeMax:null}},methods:{tidyValue:function(e){return Number.parseFloat(e).toPrecision(2)},valueToRange:function(e){return this.rangeMin+this.scaleFactor*(e-this.param.min)},rangeToValue:function(e){return this.param.min+(e-this.rangeMin)/this.scaleFactor},emitUpdate:function(){var e={},t=e;this.inkeys&&this.inkeys.forEach((function(e){t[e]={},t=t[e]})),t[this.param.key]=this.current,console.log(JSON.stringify(e)),de.$emit("update-param",{source:this.source,value:e})}},mounted:function(){console.log(g.a);var e=this.$refs[this.uniqueRef],t=e.clientWidth,s=e.clientHeight,n=v()(e),i=.5*s,a=.8*s,r=.01*t,c=.99*t,o=c-r,l=o/5,u=a,d=i-u/2,f=.2*u,h=r,m=c-l;this.rangeMin=h,this.rangeMax=m,this.scaleFactor=(this.rangeMax-this.rangeMin)/(this.param.max-this.param.min);var p=this.valueToRange(this.current),y=n.line(r,i,c,i);y.attr({stroke:"black",strokeWidth:a/2,opacity:.2});var k=n.rect(p,d,l,u,f,f);k.attr({stroke:"grey",strokeWidth:1,fill:"white"});var b=null,x=this;g()(k.node).draggable({listeners:{start:function(e){console.log(e.type),b=+k.attr("x")},move:function(e){console.log(e.type);var t=b+ +e.dx;t<h&&(t=h),t>m&&(t=m),k.attr("x",t),x.current=x.rangeToValue(t),x.emitUpdate(),b=t}}})}},x=b,_=(s("4051"),s("2877")),C=Object(_["a"])(x,m,p,!1,null,"297b1454",null),D=C.exports,w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:e.uniqueRef,staticClass:"switch-holder"},[s("div",{staticClass:"switch-name"},[e._v(e._s(e.param.key))]),s("div",{staticClass:"switch-value",on:{click:function(t){return e.change()}}},[e._v(e._s(e.param.values[e.currentIndex]))])])},S=[],E=(s("d3b7"),s("ddb0"),{name:"DiscreteSwitch",props:["uniqueRef","param","source","inkeys"],data:function(){return{currentIndex:this.param.defaultIndex}},methods:{change:function(){console.log("change");var e=this.currentIndex+1;e<this.param.values.length?this.currentIndex=e:this.currentIndex=0,console.log(this.param.values[this.currentIndex]),this.emitUpdate()},emitUpdate:function(){var e={},t=e;this.inkeys&&this.inkeys.forEach((function(e){t[e]={},t=t[e]})),t[this.param.key]=this.param.values[this.currentIndex],console.log(JSON.stringify(e)),de.$emit("update-param",{source:this.source,value:e})}},mounted:function(){}}),j=E,I=(s("3bbd"),Object(_["a"])(j,w,S,!1,null,"3862393a",null)),O=I.exports,q=s("8dee"),F=s.n(q),$={name:"ParamGroup",components:{Slider:D,DiscreteSwitch:O},props:["params","inkeys","source"],methods:{getInkeys:function(e){var t=this.inkeys.slice();return t.push(e),t},getUniqueId:function(){var e=F.a.generate();return e}},mounted:function(){}},A=$,M=(s("f623"),Object(_["a"])(A,f,h,!1,null,"e63c28d4",null)),P=M.exports,K={name:"Effect",components:{ParamGroup:P},props:["properties","source"],data:function(){return{isConnected:this.properties.isConnected,inkeys:[]}},methods:{toggleConnected:function(){this.properties.isConnected=!this.properties.isConnected,this.isConnected=this.properties.isConnected,de.$emit("update-chain")}},mounted:function(){var e=this;de.$on("update-param",(function(t){t.source===e.source&&e.properties.o.set(t.value)}))}},T=K,N=(s("b3e1"),Object(_["a"])(T,u,d,!1,null,"2c695e78",null)),V=N.exports,R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sholder"},[s("h3",[e._v(e._s(e.properties.name))]),s("ParamGroup",{attrs:{params:e.properties.params,inkeys:e.inkeys,source:e.source}})],1)},G=[],L={name:"Synth",components:{ParamGroup:P},data:function(){return{inkeys:[],source:"synth"}},props:["properties"],methods:{toggleConnected:function(){this.properties.isConnected=!this.properties.isConnected,this.isConnected=this.properties.isConnected,de.$emit("update-chain")}},mounted:function(){}},U=L,W=(s("6079"),Object(_["a"])(U,R,G,!1,null,"23129fbb",null)),B=W.exports,J=s("8cc4"),Q=s.n(J),H={name:"Music",components:{Effect:V,Synth:B},props:{},data:function(){return{hasStarted:!1,isReady:!1,isLandscape:!1,overlayIsVisible:!1,synth:null,synths:null,effects:null,patterns:[{name:"min9",intervals:[-24,-12,2,3,7,10]},{name:"maj9",intervals:[-24,-12,2,4,7,11]},{name:"7#9",intervals:[-24,-12,3,4,8,10,13]},{name:"11",intervals:[-24,-12,5,10,14]}],roots:["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"]}},computed:{},methods:{getEffectSource:function(e){return"effect-"+e},toggleOverlayVisible:function(){this.overlayIsVisible=!this.overlayIsVisible},play:function(e,t,s){e.preventDefault();var n=4,i=this.roots[t]+n,a=this.patterns[s].intervals,r=new Q.a.Frequency(i),c=r.harmonize(a);this.synth.triggerAttackRelease(c,"8n"),de.$emit("chord-played",{rootNote:this.roots[t],intervals:this.patterns[s].intervals,x:e.clientX,y:e.clientY})},loadSynth:function(e){this.synth&&this.synthIndex===e?this.synth.disconnect():(this.synthIndex=e,this.synth=new Q.a.PolySynth(7,this.synths[e].o)),this.synth.connect(this.postSynthNode),this.synths.forEach((function(t,s){t.isSelected=!1,s===e&&(t.isSelected=!0)}))},loadSynths:function(){r.forEach((function(e){e.name=e.objectKey,e.isSelected=!1,e.o=Q.a[e.objectKey],e.params.unshift({isDiscrete:!1,key:"volume",min:-100,max:100,default:0})})),this.synths=r},toggleEffect:function(e){var t=this.effects[e];t.isConnected=!t.isConnected,this.updateEffectsChain()},loadEffects:function(){c.forEach((function(e,t){e.index=t,e.name=e.objectKey,e.isConnected=!1,e.params.forEach((function(e,s){e.name=e.key,e.index=s,e.effectIndex=t})),e.o=new Q.a[e.objectKey]})),this.effects=c},updateEffectsChain:function(){var e=this.Tone.Master;this.effects.forEach((function(t){if(t.isConnected){var s=t.o;s.connect(e),e=s}else t.o.disconnect()})),this.postSynthNode=e,this.loadSynth(this.synthIndex)}},mounted:function(){var e=this,t=this.$refs.mh.offsetWidth,s=this.$refs.mh.offsetHeight;this.isLandscape=t>s,console.log(this.isLandscape),this.Tone=Q.a,this.Tone.context.lookAhead=0,this.loadSynths(),this.synthIndex=0,this.loadEffects(),this.updateEffectsChain(),this.isReady=!0,de.$on("update-chain",(function(){e.updateEffectsChain()})),de.$on("update-param",(function(t){"synth"===t.source&&e.synth.set(t.value)}))}},z=H,X=(s("9445"),Object(_["a"])(z,o,l,!1,null,"6f3c16ec",null)),Y=X.exports,Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"a_h",attrs:{id:"art-holder"}})},ee=[],te=s("cffa"),se={name:"Art",props:{},methods:{},mounted:function(){var e=this.$refs.a_h,t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("style","border: 1px solid black"),t.setAttribute("width",e.offsetWidth),t.setAttribute("height",e.offsetHeight),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.appendChild(t);var s=v()(t);de.$on("chord-played",(function(e){var t=["#A8E6CE","#DCEDC2","#FFD3B5","#FFAAA6","#FF8C94"],n=t[Math.floor(6*Math.random())],i=s.circle(e.x,e.y,0).attr("fill",n);"string"!==typeof i&&te["a"].to(i.node,{r:300,opacity:0,duration:3,ease:"power2.out"})}))}},ne=se,ie=(s("464a"),Object(_["a"])(ne,Z,ee,!1,null,null,null)),ae=ie.exports,re={name:"App",components:{Music:Y,Art:ae},data:function(){return{effects:c}},methods:{}},ce=re,oe=(s("034f"),Object(_["a"])(ce,i,a,!1,null,null,null)),le=oe.exports,ue=s("9483");Object(ue["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),n["a"].config.productionTip=!1;var de=new n["a"];new n["a"]({render:function(e){return e(le)}}).$mount("#app")},6079:function(e,t,s){"use strict";var n=s("0039"),i=s.n(n);i.a},"6ef9":function(e,t,s){},"85ec":function(e,t,s){},9445:function(e,t,s){"use strict";var n=s("6ef9"),i=s.n(n);i.a},9776:function(e,t,s){},"9ca8":function(e,t,s){},b3e1:function(e,t,s){"use strict";var n=s("4b06"),i=s.n(n);i.a},f623:function(e,t,s){"use strict";var n=s("9776"),i=s.n(n);i.a}});
//# sourceMappingURL=app.37e1c436.js.map